---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { supabase } from "../../lib/supabase";

const { data: stores } = await supabase.from("stores").select("*").order("name", { ascending: true });
---

<BaseLayout>
  <section class="py-12">
    <div class="max-w-7xl mx-auto px-4">
      <h1 class="text-3xl font-bold mb-8">Local Game Stores</h1>
      <ul class="space-y-6">
        {stores.map((store) => (
          <li class="border-b pb-4">
            <a href={`/stores/${store.slug}`} class="text-xl font-bold text-red-600 hover:underline">{store.name}</a>
            <p class="text-gray-600">{store.location}</p>
          </li>
        ))}
      </ul>
    </div>
  </section>
</BaseLayout>
