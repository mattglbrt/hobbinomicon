---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import HeroHeader from '../components/HeroHeader.astro';
import Footer from '../components/Footer.astro';
import { getCollection } from 'astro:content';

// Manual counters - update these as needed
const miniaturesPainted = 11;
const xactoBlades = 7;
const plasticGlueBottles = 1;
const superGlueBottles = 2;
const toadsShipped = 2;

// Get all published blog posts
const allPosts = await getCollection('blog', ({ data }) => !data.draft);

// Count total posts
const totalPosts = allPosts.length;

// Count posts with YouTube videos
const totalVideos = allPosts.filter(post => post.data.youtubeId).length;

// Calculate days since content creation started (September 11, 2025 EST)
const startDate = new Date('2025-09-11T00:00:00-05:00');
const now = new Date();
const daysSinceStart = Math.floor((now.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24));
---

<BaseLayout
  title="About - The Hobbinomicon"
  description="Learn more about The Hobbinomicon - a journal, spell book, and hobby blog focused on scale modeling, Warmachine, TTRPGs, and indie wargames."
>
  <Header theme="light" />

  <main id="main-content" class="min-h-screen bg-parchment">
    <HeroHeader
      title="About The Hobbinomicon"
      subtitle="Hobbying from the deep end of the dungeon."
      backLink={{ href: "/", text: "Back to Home" }}
    />

    <!-- Main Content -->
    <article class="max-w-4xl mx-auto px-6 py-16 md:py-24">
      <!-- Introduction -->
      <div class="prose prose-lg max-w-none mb-16">
        <p class="text-2xl md:text-3xl text-ink font-serif leading-relaxed mb-8 first-letter:text-6xl first-letter:font-heading first-letter:font-bold first-letter:float-left first-letter:mr-3 first-letter:leading-none first-letter:mt-1">
          The Hobbinomicon is part journal, part spell book, part hobby blog.
          I post daily vlogs and cool things I make. Mostly focused on scale modeling,
          Warmachine, TTRPGs, and indie wargames.
        </p>
        <p class="text-2xl md:text-3xl text-ink font-serif leading-relaxed">
          I am documenting my daily journey of going from a normal tabletop level painter to becoming a Golden Daemon winning painter. Hopefully.
        </p>
      </div>

      <!-- Stats Counters -->
      <section class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-16">
        <div class="bg-ink/5 border-l-4 border-ink/30 rounded-r-lg p-6 md:p-8 text-center">
          <div class="text-4xl md:text-5xl font-heading font-bold text-ink mb-2">
            {daysSinceStart > 0 ? daysSinceStart : 0}
          </div>
          <div class="text-base text-ink/70 font-serif">
            {daysSinceStart === 1 ? 'Day' : 'Day'} Hobby Streak
          </div>
        </div>
        <div class="bg-ink/5 border-l-4 border-ink/30 rounded-r-lg p-6 md:p-8 text-center">
          <div class="text-4xl md:text-5xl font-heading font-bold text-ink mb-2">
            {totalPosts}
          </div>
          <div class="text-base text-ink/70 font-serif">
            {totalPosts === 1 ? 'Post' : 'Posts'} Published
          </div>
        </div>
        <div class="bg-ink/5 border-l-4 border-ink/30 rounded-r-lg p-6 md:p-8 text-center">
          <div class="text-4xl md:text-5xl font-heading font-bold text-ink mb-2">
            {totalVideos}
          </div>
          <div class="text-base text-ink/70 font-serif">
            {totalVideos === 1 ? 'Video' : 'Videos'} Created
          </div>
        </div>
        <div class="bg-ink/5 border-l-4 border-ink/30 rounded-r-lg p-6 md:p-8 text-center">
          <div class="text-4xl md:text-5xl font-heading font-bold text-ink mb-2">
            {miniaturesPainted}
          </div>
          <div class="text-base text-ink/70 font-serif">
            {miniaturesPainted === 1 ? 'Mini' : 'Minis'} Painted
          </div>
        </div>
        <div class="bg-ink/5 border-l-4 border-ink/30 rounded-r-lg p-6 md:p-8 text-center">
          <div class="text-4xl md:text-5xl font-heading font-bold text-ink mb-2">
            {xactoBlades}
          </div>
          <div class="text-base text-ink/70 font-serif">
            Xacto {xactoBlades === 1 ? 'Blade' : 'Blades'}
          </div>
        </div>
        <div class="bg-ink/5 border-l-4 border-ink/30 rounded-r-lg p-6 md:p-8 text-center">
          <div class="text-4xl md:text-5xl font-heading font-bold text-ink mb-2">
            {plasticGlueBottles}
          </div>
          <div class="text-base text-ink/70 font-serif">
            Plastic Glue {plasticGlueBottles === 1 ? 'Bottle' : 'Bottles'}
          </div>
        </div>
        <div class="bg-ink/5 border-l-4 border-ink/30 rounded-r-lg p-6 md:p-8 text-center">
          <div class="text-4xl md:text-5xl font-heading font-bold text-ink mb-2">
            {superGlueBottles}
          </div>
          <div class="text-base text-ink/70 font-serif">
            Super Glue {superGlueBottles === 1 ? 'Bottle' : 'Bottles'}
          </div>
        </div>
        <div class="bg-ink/5 border-l-4 border-ink/30 rounded-r-lg p-6 md:p-8 text-center">
          <div class="text-4xl md:text-5xl font-heading font-bold text-ink mb-2">
            {toadsShipped}
          </div>
          <div class="text-base text-ink/70 font-serif">
            {toadsShipped === 1 ? 'Toad' : 'Toads'} Shipped
          </div>
        </div>
      </section>

      <!-- YouTube CTA Section -->
      <section class="bg-ink text-white p-12 md:p-16 rounded-lg text-center">
        <div class="mb-8">
          <svg class="w-20 h-20 mx-auto text-white opacity-80" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
          </svg>
        </div>
        <h2 class="text-4xl md:text-6xl font-heading font-bold mb-6">
          Join me in the Dungeon
        </h2>
        <p class="text-xl md:text-2xl text-white/90 mb-8 leading-relaxed max-w-2xl mx-auto">
          Join me on YouTube for painting tutorials, hobby vlogs, battle reports, and to follow my journey to become a Golden Daemon winning painter.
        </p>
        <a
          href="https://www.youtube.com/@Hobbinomicon"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-3 px-8 py-4 bg-parchment text-ink font-heading font-bold text-lg rounded-lg hover:bg-parchment/90 transition-all hover:scale-105 shadow-lg"
        >
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
          </svg>
          Subscribe on YouTube
        </a>
        <p class="text-sm text-white/60 mt-6">
          New videos every day
        </p>
      </section>
    </article>

    <Footer />
  </main>
</BaseLayout>
