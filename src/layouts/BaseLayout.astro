---
const { title } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>{title ?? 'Hobbinomicon - Discover Tabletop Games & RPGs'}</title>
    <meta name="description" content="Find new tabletop games, RPGs, and local stores to fuel your next adventure. Hobbinomicon connects gamers with games, places to play, and the community." />

    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://your-site-domain.com/" />
    <meta property="og:title" content="Hobbinomicon - Your Tabletop Adventure Awaits" />
    <meta property="og:description" content="Find tabletop games, RPGs, and local stores to fuel your next adventure." />
    <meta property="og:image" content="/images/social-share.jpg" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://your-site-domain.com/" />
    <meta name="twitter:title" content="Hobbinomicon - Your Tabletop Adventure Awaits" />
    <meta name="twitter:description" content="Find tabletop games, RPGs, and local stores to fuel your next adventure." />
    <meta name="twitter:image" content="/images/social-share.jpg" />

    <!-- Tailwind base styles -->
    <link href="/global.css" rel="stylesheet" />

    <!-- Slot for extra head stuff (optional per page) -->
    <slot name="head" />
  </head>

  <body class="min-h-screen flex flex-col">

    <header class="bg-primary text-white p-4 flex justify-between items-center">
      <a href="/" class="text-2xl font-bold">Hobbinomicon</a>
      <nav class="hidden md:flex space-x-6">
        <a href="/games" class="hover:underline">Games</a>
        <a href="/stores" class="hover:underline">Stores</a>
      </nav>
    </header>

    <slot />

    <footer class="bg-gray-800 text-white text-center py-6 mt-auto">
      <p>&copy; {new Date().getFullYear()} Hobbinomicon. All rights reserved.</p>
    </footer>

    <!-- Tiny Admin Auth Protection -->
    <script type="module">
      if (import.meta.env.SSR === false) {
        const path = window.location.pathname;
        if (path.startsWith('/admin') && !localStorage.getItem('admin-authenticated')) {
          window.location.href = '/admin/login';
        }
      }
    </script>

  </body>
</html>
