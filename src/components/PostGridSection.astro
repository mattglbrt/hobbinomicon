---
import type { CollectionEntry } from 'astro:content';
import PostCard from './PostCard.astro';
import ContentContainer from './ContentContainer.astro';
import ViewAllLink from './ViewAllLink.astro';

interface Props {
  title: string;
  viewAllLink: string;
  viewAllText?: string;
  posts: CollectionEntry<'blog'>[];
  eagerCount?: number;
}

const { title, viewAllLink, viewAllText = 'View All â†’', posts, eagerCount = 3 } = Astro.props;
---

{posts.length > 0 && (
  <section class="bg-parchment dark:bg-parchment-dark py-16 md:py-24">
    <ContentContainer>
      <div class="flex items-center justify-between mb-12">
        <h2 class="text-4xl md:text-5xl font-heading font-bold text-ink dark:text-ink-dark">{title}</h2>
        <ViewAllLink href={viewAllLink}>{viewAllText}</ViewAllLink>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {posts.map((post, index) => (
          <PostCard post={post} eager={index < eagerCount} />
        ))}
      </div>
    </ContentContainer>
  </section>
)}
